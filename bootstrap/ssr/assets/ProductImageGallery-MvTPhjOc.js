import{jsxs as e,Fragment as t,jsx as o}from"react/jsx-runtime";import{useState as r}from"react";import{Swiper as i,SwiperSlide as l}from"swiper/react";import{Pagination as s,Navigation as a}from"swiper/modules";import{g as n,a as d}from"./imageHelper-DZyBmji8.js";/* empty css                   */const c=({product:c})=>{const[h,p]=r(!1),[g,m]=r(0),u=[c.image_main,...(c.additional_images||[]).map(e=>e.url)].filter(Boolean),w=u.length>0,x=()=>{p(!1)};return e(t,{children:[o("div",{className:"w-full",children:o("div",{className:"bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-100",children:o(i,{modules:[s,a],pagination:{clickable:!0,dynamicBullets:!0},navigation:!0,spaceBetween:12,slidesPerView:1,slidesPerGroup:1,breakpoints:{320:{slidesPerView:1,slidesPerGroup:1},480:{slidesPerView:2,slidesPerGroup:2},640:{slidesPerView:3,slidesPerGroup:3},768:{slidesPerView:4,slidesPerGroup:4},1024:{slidesPerView:5,slidesPerGroup:5},1280:{slidesPerView:6,slidesPerGroup:6}},className:"product-detail-swiper",children:w?u.map((t,r)=>o(l,{children:e("div",{className:"relative w-full overflow-hidden bg-gray-50 cursor-pointer hover:opacity-90 transition-opacity",style:{aspectRatio:"3/4"},onClick:()=>(m(r),void p(!0)),children:[o("img",{...n(d(t),`${c.name} - ${r+1}`,{loading:0===r?"eager":"lazy",width:400,height:533,className:"w-full h-full object-cover"}),onError:e=>{e.target.src="https://placehold.co/400x400/e5e7eb/6b7280?text=No+Image"}}),c.old_price&&0===r&&e("div",{className:"absolute top-4 left-4 bg-red-500 text-white text-sm font-bold px-3 py-1.5 rounded-lg shadow-lg z-10",children:["-",Math.round((c.old_price-c.price)/c.old_price*100),"%"]})]})},r)):o(l,{children:o("div",{className:"relative w-full overflow-hidden bg-gray-50",style:{aspectRatio:"3/4"},children:o("img",{...n("https://placehold.co/400x400/e5e7eb/6b7280?text=No+Image","No Image",{loading:"eager",width:400,height:533,className:"w-full h-full object-cover"}),onError:e=>{e.target.src="https://placehold.co/400x400/e5e7eb/6b7280?text=Error"}})})})})})}),h&&e("div",{className:"fixed inset-0 z-[100] bg-black bg-opacity-95 flex items-center justify-center",onClick:x,children:[o("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors z-10",onClick:x,children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),u.length>1&&o("button",{className:"absolute left-4 text-white hover:text-gray-300 transition-colors z-10",onClick:e=>{e.stopPropagation(),m(e=>(e-1+u.length)%u.length)},children:o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o("polyline",{points:"15 18 9 12 15 6"})})}),o("div",{className:"max-w-7xl max-h-[90vh] w-full h-full flex items-center justify-center p-4",onClick:e=>e.stopPropagation(),children:o("img",{src:u[g],alt:`${c.name} - ${g+1}`,className:"max-w-full max-h-full object-contain"})}),u.length>1&&o("button",{className:"absolute right-4 text-white hover:text-gray-300 transition-colors z-10",onClick:e=>{e.stopPropagation(),m(e=>(e+1)%u.length)},children:o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o("polyline",{points:"9 18 15 12 9 6"})})}),e("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-70 text-white px-4 py-2 rounded-full text-sm",children:[g+1," / ",u.length]})]})]})};export{c as default};
