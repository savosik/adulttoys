import{jsxs as e,jsx as t,Fragment as r}from"react/jsx-runtime";import"react";import{M as a}from"./MainLayout-Dw2FxwLe.js";import{Head as i,Link as o}from"@inertiajs/react";import n from"./ProductImageGallery-MvTPhjOc.js";import{ProductTitle as s,ImporterInfo as c,ProductActions as m}from"./ProductInfo-w0uDJ4xe.js";import l from"./ProductSpecifications-DlqylQYv.js";import d from"./ProductReviews-BanbjGx_.js";import"axios";import"./useStore-DzKPy6C4.js";import"zustand";import"zustand/middleware";import"swiper/react";import"swiper/modules";import"./imageHelper-DZyBmji8.js";/* empty css                   */const p=e=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:t("path",{d:"m15 18-6-6 6-6"})}),g=({product:g,relatedProducts:y=[],categories:u,filters:h={}})=>{var w,f,v,x,b,N,_,j;const k=(()=>{const e=new URLSearchParams;h.category&&e.set("category",h.category),h.sub_category&&e.set("sub_category",h.sub_category),h.brand&&e.set("brand",h.brand),h.search&&e.set("search",h.search),h.sort&&e.set("sort",h.sort);const t=e.toString(),r=h.category?`/category/${h.category}`:"/";return t?`${r}?${t}`:r})(),$={"@context":"https://schema.org/","@type":"Product",name:g.name,image:[g.image_main,...(g.additional_images||[]).map(e=>e.url)].filter(Boolean),description:g.description||g.name,sku:g.sku,brand:{"@type":"Brand",name:(null==(w=g.brand)?void 0:w.name)||"A-Toys"},offers:{"@type":"Offer",url:"undefined"!=typeof window?window.location.href:`https://a-toys.by/product/${g.slug}`,priceCurrency:"BYN",price:g.price,availability:g.stock>0?"https://schema.org/InStock":"https://schema.org/OutOfStock",itemCondition:"https://schema.org/NewCondition"},aggregateRating:g.reviews_count>0?{"@type":"AggregateRating",ratingValue:g.reviews_avg_rating,reviewCount:g.reviews_count}:void 0,review:(g.reviews||[]).slice(0,5).map(e=>({"@type":"Review",author:{"@type":"Person",name:e.user_name||"Клиент"},datePublished:e.created_at,reviewRating:{"@type":"Rating",ratingValue:e.rating},reviewBody:e.comment}))},L={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Главная",item:"undefined"!=typeof window?window.location.origin:"https://a-toys.by"},(null==(f=g.category)?void 0:f.parent)&&{"@type":"ListItem",position:2,name:g.category.parent.name,item:"undefined"!=typeof window?`${window.location.origin}/category/${g.category.parent.slug}`:`https://a-toys.by/category/${g.category.parent.slug}`},g.category&&{"@type":"ListItem",position:(null==(v=g.category)?void 0:v.parent)?3:2,name:g.category.name,item:"undefined"!=typeof window?`${window.location.origin}/category/${g.category.slug}`:`https://a-toys.by/category/${g.category.slug}`},{"@type":"ListItem",position:(null==(x=g.category)?void 0:x.parent)?4:g.category?3:2,name:g.name,item:"undefined"!=typeof window?window.location.href:`https://a-toys.by/product/${g.slug}`}].filter(Boolean)};return e(a,{filters:h,children:[e(i,{title:g.name,children:[t("meta",{name:"description",content:g.meta_description||(null==(b=g.description)?void 0:b.substring(0,160))||g.name}),t("meta",{property:"og:type",content:"product"}),t("meta",{property:"og:title",content:g.meta_title||g.name}),t("meta",{property:"og:description",content:g.meta_description||(null==(N=g.description)?void 0:N.substring(0,160))||g.name}),t("meta",{property:"og:image",content:g.image_main}),t("meta",{property:"og:site_name",content:"A-toys"}),t("meta",{property:"product:price:amount",content:g.price}),t("meta",{property:"product:price:currency",content:"BYN"}),t("meta",{property:"product:availability",content:g.stock>0?"instock":"outofstock"}),t("meta",{name:"twitter:card",content:"summary_large_image"}),t("meta",{name:"twitter:title",content:g.meta_title||g.name}),t("meta",{name:"twitter:description",content:g.meta_description||(null==(_=g.description)?void 0:_.substring(0,160))||g.name}),t("meta",{name:"twitter:image",content:g.image_main}),t("script",{type:"application/ld+json",children:JSON.stringify($)}),t("script",{type:"application/ld+json",children:JSON.stringify(L)})]}),t("div",{className:"bg-white shadow-sm flex-shrink-0 sticky top-0 z-10",children:e("div",{className:"px-4 py-3 max-w-7xl mx-auto flex items-center justify-between",children:[e(o,{href:k,className:"flex items-center gap-2 hover:text-red-600 transition-colors text-gray-900",children:[t(p,{className:"w-6 h-6"}),t("span",{className:"font-semibold text-sm",children:"Назад"})]}),e("nav",{className:"hidden sm:flex items-center gap-2 text-[10px] font-medium text-gray-400",children:[t(o,{href:"/",className:"hover:text-red-600 transition-colors",children:"Главная"}),t("span",{children:"/"}),(null==(j=g.category)?void 0:j.parent)&&e(r,{children:[t(o,{href:`/category/${g.category.parent.slug}`,className:"hover:text-red-600 transition-colors max-w-[100px] truncate",children:g.category.parent.name}),t("span",{children:"/"})]}),g.category&&e(r,{children:[t(o,{href:`/category/${g.category.slug}`,className:"hover:text-red-600 transition-colors max-w-[100px] truncate",children:g.category.name}),t("span",{children:"/"})]}),t("span",{className:"text-gray-900 max-w-[100px] truncate",children:g.name})]})]})}),t("main",{className:"bg-gray-50",children:t("div",{className:"p-4 pb-32",children:e("div",{className:"w-full space-y-6",children:[t(n,{product:g}),t(s,{product:g}),t(c,{}),t(l,{parameters:g.parameters}),t(d,{reviews:g.reviews}),y.length>0&&e("div",{className:"w-full space-y-4",children:[t("h2",{className:"text-xl font-bold text-gray-900",children:"Похожие товары"}),t("div",{className:"grid grid-cols-2 gap-4",children:y.map(r=>e(o,{href:`/product/${r.slug}`,className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100 flex flex-col gap-2",children:[t("div",{className:"aspect-square bg-gray-50 rounded-lg overflow-hidden",children:t("img",{src:r.image_main,className:"w-full h-full object-cover",alt:r.name})}),t("h3",{className:"text-sm font-medium text-gray-900 line-clamp-2 min-h-[2.5rem]",children:r.name}),e("div",{className:"text-red-600 font-bold",children:[new Intl.NumberFormat("ru-RU").format(r.price)," BYN"]})]},r.id))})]})]})})}),t("div",{className:"fixed bottom-16 left-20 right-0 z-20",children:t("div",{className:"p-4",children:t(m,{product:g})})})]})};export{g as default};
