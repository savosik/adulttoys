import{j as e}from"./app-DXCU__9_.js";import"./vendor-react-WQGp0izF.js";import{M as t}from"./MainLayout-_oXDbsa8.js";import{S as r,x as s}from"./vendor-inertia-B685lsGm.js";import a from"./ProductImageGallery-B0hN8xJe.js";import{ProductTitle as i,ImporterInfo as o,ProductActions as n}from"./ProductInfo-Bf2R0Goa.js";import{P as c}from"./ProductCard-qorHt5rp.js";import l from"./ProductSpecifications-YSJ5HImu.js";import m from"./ProductReviews-BGTFar1s.js";import"./useStore-I3pEfUML.js";import"./pagination-BZCQGJQe.js";import"./vendor-swiper-CNwGi3cp.js";import"./imageHelper-Mbc89JsA.js";const d=t=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:e.jsx("path",{d:"m15 18-6-6 6-6"})}),p=({product:p,relatedProducts:g=[],categories:x,filters:h={}})=>{var y,j,u,w,f;const v=(()=>{const e=new URLSearchParams;h.category&&e.set("category",h.category),h.sub_category&&e.set("sub_category",h.sub_category),h.brand&&e.set("brand",h.brand),h.search&&e.set("search",h.search),h.sort&&e.set("sort",h.sort);const t=e.toString(),r=h.category?`/category/${h.category}`:"/";return t?`${r}?${t}`:r})(),N={"@context":"https://schema.org/","@type":"Product",name:p.name,image:[p.image_main,...(p.additional_images||[]).map(e=>e.url)].filter(Boolean),description:p.description||p.name,sku:p.sku,brand:{"@type":"Brand",name:(null==(y=p.brand)?void 0:y.name)||"A-Toys"},offers:{"@type":"Offer",url:window.location.href,priceCurrency:"BYN",price:p.price,availability:p.stock>0?"https://schema.org/InStock":"https://schema.org/OutOfStock",itemCondition:"https://schema.org/NewCondition"},aggregateRating:p.reviews_count>0?{"@type":"AggregateRating",ratingValue:p.reviews_avg_rating,reviewCount:p.reviews_count}:void 0,review:(p.reviews||[]).slice(0,5).map(e=>({"@type":"Review",author:{"@type":"Person",name:e.user_name||"Клиент"},datePublished:e.created_at,reviewRating:{"@type":"Rating",ratingValue:e.rating},reviewBody:e.comment}))},b={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Главная",item:window.location.origin},(null==(j=p.category)?void 0:j.parent)&&{"@type":"ListItem",position:2,name:p.category.parent.name,item:`${window.location.origin}/category/${p.category.parent.slug}`},p.category&&{"@type":"ListItem",position:(null==(u=p.category)?void 0:u.parent)?3:2,name:p.category.name,item:`${window.location.origin}/category/${p.category.slug}`},{"@type":"ListItem",position:(null==(w=p.category)?void 0:w.parent)?4:p.category?3:2,name:p.name,item:window.location.href}].filter(Boolean)};return e.jsxs(t,{filters:h,children:[e.jsxs(r,{title:p.name,children:[e.jsx("script",{type:"application/ld+json",children:JSON.stringify(N)}),e.jsx("script",{type:"application/ld+json",children:JSON.stringify(b)})]}),e.jsx("div",{className:"bg-white shadow-sm flex-shrink-0 sticky top-0 z-10",children:e.jsxs("div",{className:"px-4 py-3 w-full flex items-center justify-between",children:[e.jsxs(s,{href:v,className:"flex items-center gap-2 hover:text-red-600 transition-colors text-gray-900",children:[e.jsx(d,{className:"w-6 h-6"}),e.jsx("span",{className:"font-semibold text-sm",children:"Назад"})]}),e.jsxs("nav",{className:"hidden sm:flex items-center gap-2 text-[10px] font-medium text-gray-400",children:[e.jsx(s,{href:"/",className:"hover:text-red-600 transition-colors",children:"Главная"}),e.jsx("span",{children:"/"}),(null==(f=p.category)?void 0:f.parent)&&e.jsxs(e.Fragment,{children:[e.jsx(s,{href:`/category/${p.category.parent.slug}`,className:"hover:text-red-600 transition-colors max-w-[100px] md:max-w-[150px] lg:max-w-[250px] truncate",children:p.category.parent.name}),e.jsx("span",{children:"/"})]}),p.category&&e.jsxs(e.Fragment,{children:[e.jsx(s,{href:`/category/${p.category.slug}`,className:"hover:text-red-600 transition-colors max-w-[100px] md:max-w-[150px] lg:max-w-[250px] truncate",children:p.category.name}),e.jsx("span",{children:"/"})]}),e.jsx("span",{className:"text-gray-900 max-w-[100px] md:max-w-[150px] lg:max-w-[250px] truncate",children:p.name})]})]})}),e.jsx("main",{className:"bg-gray-50",children:e.jsx("div",{className:"p-4 pb-32",children:e.jsxs("div",{className:"w-full space-y-6",children:[e.jsx(a,{product:p}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(i,{product:p}),e.jsx(l,{parameters:p.parameters})]}),e.jsx(o,{}),e.jsx(m,{reviews:p.reviews}),g.length>0&&e.jsxs("div",{className:"w-full space-y-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Похожие товары"}),e.jsx("div",{className:"grid grid-cols-1 xs:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 3xl:grid-cols-6 gap-4",children:g.map(t=>e.jsx(c,{product:t},t.id))})]})]})})}),e.jsx("div",{className:"fixed bottom-16 left-20 right-0 z-20",children:e.jsx("div",{className:"p-4",children:e.jsx(n,{product:p})})})]})};export{p as default};
