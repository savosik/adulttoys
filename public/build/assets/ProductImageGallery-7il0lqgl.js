import{j as e}from"./app-C0mXkfIF.js";import{r as t,b as s}from"./vendor-react-WQGp0izF.js";import{S as o,P as r,N as i,a as l}from"./pagination-BZCQGJQe.js";import{g as a,a as n}from"./imageHelper-DZyBmji8.js";import"./vendor-inertia-B685lsGm.js";import"./vendor-swiper-CNwGi3cp.js";const d=({product:d})=>{const[c,h]=t.useState(!1),[p,x]=t.useState(0),g=[d.image_main,...(d.additional_images||[]).map(e=>e.url)].filter(Boolean),m=g.length>0,u=()=>{h(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-100",children:e.jsx(o,{modules:[r,i],pagination:{clickable:!0,dynamicBullets:!0},navigation:!0,spaceBetween:12,slidesPerView:1,slidesPerGroup:1,breakpoints:{320:{slidesPerView:1,slidesPerGroup:1},480:{slidesPerView:2,slidesPerGroup:2},640:{slidesPerView:3,slidesPerGroup:3},768:{slidesPerView:4,slidesPerGroup:4},1024:{slidesPerView:5,slidesPerGroup:5},1280:{slidesPerView:6,slidesPerGroup:6}},className:"product-detail-swiper",children:m?g.map((t,s)=>e.jsx(l,{children:e.jsxs("div",{className:"relative w-full overflow-hidden bg-gray-50 cursor-pointer hover:opacity-90 transition-opacity",style:{aspectRatio:"3/4"},onClick:()=>(x(s),void h(!0)),children:[e.jsx("img",{...a(n(t),`${d.name} - ${s+1}`,{loading:0===s?"eager":"lazy",width:400,height:533,className:"w-full h-full object-cover"}),onError:e=>{e.target.src="https://placehold.co/400x400/e5e7eb/6b7280?text=No+Image"}}),d.old_price&&0===s&&e.jsxs("div",{className:"absolute top-4 left-4 bg-red-500 text-white text-sm font-bold px-3 py-1.5 rounded-lg shadow-lg z-10",children:["-",Math.round((d.old_price-d.price)/d.old_price*100),"%"]})]})},s)):e.jsx(l,{children:e.jsx("div",{className:"relative w-full overflow-hidden bg-gray-50",style:{aspectRatio:"3/4"},children:e.jsx("img",{...a("https://placehold.co/400x400/e5e7eb/6b7280?text=No+Image","No Image",{loading:"eager",width:400,height:533,className:"w-full h-full object-cover"}),onError:e=>{e.target.src="https://placehold.co/400x400/e5e7eb/6b7280?text=Error"}})})})})})}),c&&s.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black bg-opacity-95 flex items-center justify-center animate-in fade-in duration-200",onClick:u,children:[e.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors z-10",onClick:u,children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),g.length>1&&e.jsx("button",{className:"absolute left-4 text-white hover:text-gray-300 transition-colors z-10",onClick:e=>{e.stopPropagation(),x(e=>(e-1+g.length)%g.length)},children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("div",{className:"max-w-7xl max-h-[90vh] w-full h-full flex items-center justify-center p-4",onClick:e=>e.stopPropagation(),children:e.jsx("img",{src:g[p],alt:`${d.name} - ${p+1}`,className:"max-w-full max-h-full object-contain"})}),g.length>1&&e.jsx("button",{className:"absolute right-4 text-white hover:text-gray-300 transition-colors z-10",onClick:e=>{e.stopPropagation(),x(e=>(e+1)%g.length)},children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"9 18 15 12 9 6"})})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-70 text-white px-4 py-2 rounded-full text-sm",children:[p+1," / ",g.length]})]}),document.body)]})};export{d as default};
