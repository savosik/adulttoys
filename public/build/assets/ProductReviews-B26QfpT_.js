import{j as e}from"./app-BUOi14ad.js";import{r as s}from"./vendor-react-BM9Z6hcK.js";import"./vendor-inertia-yxwOxg76.js";const t=({reviews:t=[],product:a})=>{const[r,l]=s.useState(t),[d,i]=s.useState(!1);return s.useEffect(()=>{0===r.length&&(null==a?void 0:a.slug)&&!d&&(i(!0),window.axios.post(`/api/products/${a.slug}/reviews/generate`).then(e=>{l(e.data.reviews)}).catch(e=>{}).finally(()=>{i(!1)}))},[null==a?void 0:a.slug]),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-bold text-base text-gray-900",children:"Отзывы"}),e.jsxs("button",{className:"text-red-600 text-xs font-semibold",children:["Все (",r.length,")"]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-gray-50 p-4 rounded-xl animate-pulse h-24"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-xl animate-pulse h-24"})]}):r.length>0?r.map(s=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"font-bold text-sm",children:s.user_name}),e.jsxs("div",{className:"flex text-yellow-500 text-xs",children:["★".repeat(s.rating),"☆".repeat(5-s.rating)]})]}),e.jsx("p",{className:"text-gray-600 text-xs leading-relaxed",children:s.text})]},s.id)):e.jsx("p",{className:"text-gray-500 text-xs text-center py-4",children:"Нет отзывов"})})]})};export{t as default};
