import{j as e}from"./app-JFefIfGz.js";import"./vendor-react-D8ePpywI.js";import{M as t}from"./MainLayout-kfLYubjd.js";import{S as r}from"./vendor-inertia-CTBPnMsl.js";import i from"./ProductImageGallery-BNp58R0Y.js";import{ProductHeader as o,ProductActions as a,StmBlock as s,ProductBenefits as n,ProductDescription as c,ImporterInfo as m}from"./ProductInfo-CKdbRuOs.js";import{P as p}from"./ProductCard-mvMoDgIb.js";import d from"./ProductSpecifications-BBKy2Joz.js";import l from"./ProductReviews-BwAZWoFm.js";import"./useStore-DuB4Tk4X.js";import"./pagination-CV6Cq4kt.js";import"./vendor-swiper-CNwGi3cp.js";import"./imageHelper-Mbc89JsA.js";const g=({product:g,relatedProducts:y=[],categories:u,filters:j={}})=>{var h,x,f,v;(()=>{const e=new URLSearchParams;j.category&&e.set("category",j.category),j.sub_category&&e.set("sub_category",j.sub_category),j.brand&&e.set("brand",j.brand),j.search&&e.set("search",j.search),j.sort&&e.set("sort",j.sort);const t=e.toString(),r=j.category?`/category/${j.category}`:"/"})();const w={"@context":"https://schema.org/","@type":"Product",name:g.name,image:[g.image_main,...(g.additional_images||[]).map(e=>e.url)].filter(Boolean),description:g.description||g.name,sku:g.sku,brand:{"@type":"Brand",name:(null==(h=g.brand)?void 0:h.name)||"A-Toys"},offers:{"@type":"Offer",url:window.location.href,priceCurrency:"BYN",price:g.price,availability:g.stock>0?"https://schema.org/InStock":"https://schema.org/OutOfStock",itemCondition:"https://schema.org/NewCondition"},aggregateRating:g.reviews_count>0?{"@type":"AggregateRating",ratingValue:g.reviews_avg_rating,reviewCount:g.reviews_count}:void 0,review:(g.reviews||[]).slice(0,5).map(e=>({"@type":"Review",author:{"@type":"Person",name:e.user_name||"Клиент"},datePublished:e.created_at,reviewRating:{"@type":"Rating",ratingValue:e.rating},reviewBody:e.comment}))},b={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Главная",item:window.location.origin},(null==(x=g.category)?void 0:x.parent)&&{"@type":"ListItem",position:2,name:g.category.parent.name,item:`${window.location.origin}/category/${g.category.parent.slug}`},g.category&&{"@type":"ListItem",position:(null==(f=g.category)?void 0:f.parent)?3:2,name:g.category.name,item:`${window.location.origin}/category/${g.category.slug}`},{"@type":"ListItem",position:(null==(v=g.category)?void 0:v.parent)?4:g.category?3:2,name:g.name,item:window.location.href}].filter(Boolean)};return e.jsxs(t,{filters:j,children:[e.jsxs(r,{title:g.name,children:[e.jsx("script",{type:"application/ld+json",children:JSON.stringify(w)}),e.jsx("script",{type:"application/ld+json",children:JSON.stringify(b)})]}),e.jsx("main",{className:"bg-gray-50",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"w-full space-y-6",children:[e.jsx(o,{product:g}),e.jsx(i,{product:g}),e.jsx(a,{product:g}),g.is_stm&&e.jsx(s,{}),e.jsx(n,{product:g}),e.jsx(c,{product:g}),e.jsx(d,{parameters:g.parameters}),e.jsx(m,{}),e.jsx(l,{reviews:g.reviews,product:g}),y.length>0&&e.jsxs("div",{className:"w-full space-y-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Похожие товары"}),e.jsx("div",{className:"grid grid-cols-1 xs:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 3xl:grid-cols-6 gap-4",children:y.map(t=>e.jsx(p,{product:t},t.id))})]})]})})})]})};export{g as default};
