import{r as g,j as e,X as j,x as l}from"./app-nMwxjLQ7.js";import{u as n}from"./useStore-DLstr-6t.js";const v=()=>{const[t,s]=g.useState(null);return g.useEffect(()=>n.subscribe((a,u)=>{const p=u.getCartCount();a.getCartCount()>p&&s({type:"cart",message:"–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É",icon:"üõí"});const i=u.getFavoritesCount(),c=a.getFavoritesCount();c>i?s({type:"favorite",message:"–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ",icon:"‚ù§Ô∏è"}):c<i&&s({type:"favorite",message:"–£–¥–∞–ª–µ–Ω–æ –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ",icon:"üíî"});const d=u.getChatQueueCount(),x=a.getChatQueueCount();x>d?s({type:"chat",message:"–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ —á–∞—Ç",icon:"üí¨"}):x<d&&s({type:"chat-remove",message:"–£–¥–∞–ª–µ–Ω–æ –∏–∑ —á–∞—Ç–∞",icon:"üö´"})}),[]),g.useEffect(()=>{if(t){const h=setTimeout(()=>{s(null)},2500);return()=>clearTimeout(h)}},[t]),t?e.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-[100] pointer-events-none animate-in fade-in slide-in-from-top-2 duration-300",children:e.jsxs("div",{className:`px-4 py-3 rounded-xl shadow-2xl border flex items-center gap-3 ${t.type==="cart"?"bg-red-700 border-red-600 text-white":t.type==="chat"?"bg-gradient-to-br from-red-400 to-red-600 border-red-500 text-white":"bg-white border-gray-200 text-gray-900"}`,children:[e.jsx("span",{className:"text-2xl",children:t.icon}),e.jsx("span",{className:"font-medium text-sm",children:t.message})]})}):null},o={Phone:t=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:e.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),Home:t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),Package:t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"m7.5 4.27 9 5.15"}),e.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),e.jsx("path",{d:"m3.27 6.96 8.73 5.05 8.73-5.05"}),e.jsx("path",{d:"M12 22.08V12"})]}),Shirt:t=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:e.jsx("path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z"})}),Zap:t=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:e.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),Heart:t=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:e.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"})}),ShoppingCart:t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("circle",{cx:"8",cy:"21",r:"1"}),e.jsx("circle",{cx:"19",cy:"21",r:"1"}),e.jsx("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"})]}),MessageCircle:t=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:e.jsx("path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z"})}),MapPin:t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),HelpCircle:t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("line",{x1:"12",x2:"12.01",y1:"17",y2:"17"})]}),Droplets:t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M7 16.3c2.2 0 4-1.8 4-4 0-3.3-4-6-4-6s-4 2.7-4 6c0 2.2 1.8 4 4 4Z"}),e.jsx("path",{d:"M17 18.3c1.7 0 3-1.3 3-3 0-2.5-3-4.5-3-4.5s-3 2-3 4.5c0 1.7 1.3 3 3 3Z"})]}),Shield:t=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:e.jsx("path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1-1z"})}),Activity:t=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})},k=(t="")=>{const s=t.toLowerCase();return s.includes("–∏–≥—Ä—É—à")?o.Package:s.includes("–æ–¥–µ–∂–¥")||s.includes("–±–µ–ª—å")?o.Shirt:s.includes("–≤–∏–±—Ä")||s.includes("—Å—Ç–∏–º—É–ª")||s.includes("—ç–ª–µ–∫—Ç—Ä–æ")?o.Zap:s.includes("–∫–æ—Å–º–µ—Ç")||s.includes("–≥–µ–ª—å")||s.includes("—Å–º–∞–∑–∫")?o.Droplets:s.includes("–ø—Ä–µ–∑–µ—Ä–≤")?o.Shield:s.includes("—Ç—Ä–µ–Ω–∞–∂")||s.includes("–±–∞–¥")?o.Activity:o.Package},N=({children:t,filters:s})=>{const{categories:h=[],filters:a={},cart:u=[],chatQueue:p=[]}=j().props,i=(s||a).category,c=n(r=>r.getCartCount()),d=n(r=>r.getFavoritesCount()),x=n(r=>r.getChatQueueCount());return n(r=>r.isFavorite),n(r=>r.toggleFavorite),n(r=>r.addToCart),n(r=>r.incrementCartQuantity),n(r=>r.decrementCartQuantity),n(r=>r.toggleChatQueue),n(r=>r.cart),n(r=>r.chatQueue),e.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col overflow-hidden font-sans",children:[e.jsx(v,{}),e.jsx("style",{children:`
                .sidebar-scroll::-webkit-scrollbar {
                    width: 4px;
                }
                .sidebar-scroll::-webkit-scrollbar-track {
                    background: transparent;
                }
                .sidebar-scroll::-webkit-scrollbar-thumb {
                    background: #cbd5e1;
                    border-radius: 2px;
                }
                .sidebar-scroll::-webkit-scrollbar-thumb:hover {
                    background: #94a3b8;
                }
                .sidebar-scroll {
                    scrollbar-width: thin;
                    scrollbar-color: #cbd5e1 transparent;
                    direction: rtl;
                }
                .sidebar-scroll > nav {
                    direction: ltr;
                }
                .content-scroll::-webkit-scrollbar {
                    width: 6px;
                }
                .content-scroll::-webkit-scrollbar-track {
                    background: #f1f5f9;
                }
                .content-scroll::-webkit-scrollbar-thumb {
                    background: #cbd5e1;
                    border-radius: 3px;
                }
                .content-scroll::-webkit-scrollbar-thumb:hover {
                    background: #94a3b8;
                }
                .content-scroll {
                    scrollbar-width: thin;
                    scrollbar-color: #cbd5e1 #f1f5f9;
                }
                .product-swiper .swiper-button-next,
                .product-swiper .swiper-button-prev {
                    color: #444;
                    background: rgba(255, 255, 255, 0.7);
                    width: 24px;
                    height: 24px;
                    border-radius: 50%;
                }
                .product-swiper .swiper-button-next:after,
                .product-swiper .swiper-button-prev:after {
                    font-size: 10px;
                    font-weight: bold;
                }
                .product-swiper .swiper-pagination-bullet-active {
                    background: #ef4444;
                }
                .detail-swiper .swiper-button-next,
                .detail-swiper .swiper-button-prev {
                    width: 32px;
                    height: 32px;
                }
                .detail-swiper .swiper-button-next:after,
                .detail-swiper .swiper-button-prev:after {
                    font-size: 14px;
                }
            `}),e.jsx("header",{className:"bg-white border-b border-gray-200 z-50 flex-shrink-0",children:e.jsx("div",{className:"px-4",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx(l,{href:"/",className:"flex items-center gap-2 flex-shrink-0",children:e.jsx("img",{src:"/logo.svg",alt:"A-toys",className:"h-9 w-auto"})}),e.jsxs("div",{className:"flex items-stretch h-full",children:[e.jsxs("a",{href:"https://yandex.by/maps/-/CHe9n0p-",target:"_blank",className:"flex flex-col items-center justify-center gap-1 px-3 md:px-6 hover:bg-gray-50 transition-colors border-l border-gray-100",children:[e.jsx(o.MapPin,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-[10px] font-medium text-gray-500",children:"–ú—ã –∑–¥–µ—Å—å"})]}),e.jsxs(l,{href:"#",className:"flex flex-col items-center justify-center gap-1 px-3 md:px-6 hover:bg-gray-50 transition-colors border-l border-gray-100",children:[e.jsx(o.HelpCircle,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-[10px] font-medium text-gray-500",children:"–û –Ω–∞—Å"})]}),e.jsxs("a",{href:"tel:+375295008990",className:"flex flex-col items-center justify-center gap-1 px-3 md:px-6 hover:bg-gray-50 transition-colors border-l border-gray-100",children:[e.jsx(o.Phone,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-[10px] font-medium text-gray-500",children:"–ü–æ–∑–≤–æ–Ω–∏—Ç—å"})]})]})]})})}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("aside",{className:"w-20 bg-white border-r border-gray-200 flex-shrink-0 overflow-y-auto sidebar-scroll",children:e.jsxs("nav",{className:"py-2",children:[e.jsxs(l,{href:"/catalog",className:`w-full flex flex-col items-center gap-1 px-2 py-3 transition-colors ${i?"text-gray-600 hover:bg-gray-50":"bg-red-50 text-red-700 border-r-2 border-red-500"}`,children:[e.jsx(o.Home,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:"text-[9px] font-medium leading-tight text-center break-all line-clamp-2 max-w-full overflow-hidden",children:"–í—Å–µ"})]}),h.map(r=>{r.id===2&&console.log("Category 2 data:",r);const f=k(r.name),b=i==r.id||i==r.name;return e.jsxs(l,{href:`/catalog?category=${r.id}`,className:`w-full flex flex-col items-center gap-1 px-2 py-3 transition-colors ${b?"bg-red-50 text-red-700 border-r-2 border-red-500":"text-gray-600 hover:bg-gray-50"}`,title:r.name,children:[r.icon?e.jsx("img",{src:r.icon_url||`/storage/${r.icon}`,alt:r.name,className:"w-10 h-10 flex-shrink-0 object-contain mb-1",onError:w=>{w.target.onerror=null,w.target.src="/icons/package.svg"}}):e.jsx(f,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:"text-[9px] font-medium leading-tight text-center break-all line-clamp-2 max-w-full overflow-hidden",children:r.name})]},r.id)})]})}),e.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:t})]}),e.jsx("nav",{className:"bg-white border-t border-gray-200 z-50 flex-shrink-0",children:e.jsx("div",{className:"flex items-center justify-center px-2 py-2 relative h-16",children:e.jsxs("div",{className:"flex items-center gap-12 max-w-md",children:[e.jsxs(l,{href:"/favorites",className:"flex flex-col items-center gap-1 relative group",children:[e.jsxs("div",{className:"relative",children:[e.jsx(o.Heart,{className:"w-6 h-6 text-gray-700"}),d>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-white text-[10px] flex items-center justify-center font-bold",children:d})]}),e.jsx("span",{className:"text-[9px] font-medium text-gray-700 leading-tight text-center",children:"–ò–∑–±—Ä–∞–Ω–Ω–æ–µ"})]}),e.jsxs("button",{className:"flex flex-col items-center gap-1 relative -mt-8",children:[e.jsxs("div",{className:"w-14 h-14 bg-gradient-to-br from-red-400 to-red-600 rounded-full shadow-lg flex items-center justify-center hover:shadow-xl transition-all active:scale-95 border-4 border-white relative",children:[e.jsx(o.MessageCircle,{className:"w-7 h-7 text-white"}),x>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-white text-[10px] flex items-center justify-center font-bold border-2 border-white",children:x})]}),e.jsx("span",{className:"text-[9px] font-medium text-gray-700 leading-tight text-center mt-1",children:"–ß–∞—Ç"})]}),e.jsxs(l,{href:"/cart",className:"flex flex-col items-center gap-1 relative group",children:[e.jsxs("div",{className:"relative",children:[e.jsx(o.ShoppingCart,{className:"w-6 h-6 text-gray-700"}),c>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-white text-[10px] flex items-center justify-center font-bold",children:c})]}),e.jsx("span",{className:"text-[9px] font-medium text-gray-700 leading-tight text-center",children:"–ö–æ—Ä–∑–∏–Ω–∞"})]})]})})})]})};export{N as M};
